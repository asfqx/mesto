(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(e){var t=b.querySelector(".places__item").cloneNode(!0),r=t.querySelector(".card__like-button"),c=t.querySelector(".card__delete-button"),a=t.querySelector(".card__image");return a.src=e.link,a.alt=e.name,t.querySelector(".card__title").textContent=e.name,a.addEventListener("click",x),r.addEventListener("click",n),c.addEventListener("click",o),t}function n(e){e.target.classList.toggle("card__like-button_is-active")}function o(e){e.target.closest("li.card").remove()}e.d({},{Tp:()=>b,qK:()=>x});function r(e){e.classList.add("popup_is-opened")}function c(e){e.classList.remove("popup_is-opened")}function a(e,t){!function(e){return e.some(function(e){return!e.validity.valid})}(t)?e.classList.remove("popup__button_inactive"):e.classList.add("popup__button_inactive")}var i=document.querySelector(".profile__edit-button"),p=document.querySelector(".places__list"),u=document.querySelector(".popup_type_edit"),d=document.querySelector(".popup_type_new-card"),s=document.forms["new-place"],l=s.elements["place-name"],_=s.elements.link,m=document.querySelector(".popup_type_image"),v=document.querySelector(".popup__image"),f=document.querySelector(".popup__caption"),y=document.querySelectorAll(".popup__close"),q=document.forms["edit-profile"],k=q.elements.name,S=q.elements.description,L=document.querySelector(".profile__title"),g=document.querySelector(".profile__description"),E=document.querySelector(".profile__add-button"),b=document.querySelector("#card-template").content,h=document.querySelectorAll(".popup__form");function x(e){var t=e.target.closest(".places__item").querySelector(".card__title").textContent;v.src=e.target.src,f.textContent=t,r(m)}m.classList.add("popup_is-animated"),d.classList.add("popup_is-animated"),u.classList.add("popup_is-animated"),[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach(function(e){var n=t(e);p.appendChild(n)}),q.addEventListener("submit",function(e){e.preventDefault(),g.textContent=S.value,L.textContent=k.value,c(u)}),i.addEventListener("click",function(){r(u),k.value=L.textContent,S.value=g.textContent}),E.addEventListener("click",function(){r(d),l.value="",_.value=""}),s.addEventListener("submit",function(e){e.preventDefault();var n=t({name:l.value,link:_.value});p.prepend(n),c(d)}),y.forEach(function(e){return e.addEventListener("click",function(){return c(document.querySelector(".popup_is-opened"))})}),document.querySelectorAll(".popup").forEach(function(e){e.addEventListener("mousedown",function(t){t.target===e&&c(e)})}),document.addEventListener("keydown",function(e){if("Escape"===e.key){var t=document.querySelector(".popup_is-opened");t&&c(t)}}),function(e){e.forEach(function(e){e.addEventListener("submit",function(e){return e.preventDefault()}),function(e){var t=Array.from(e.querySelectorAll(".popup__input")),n=e.querySelector(".popup__button");a(n,t),t.forEach(function(o){o.addEventListener("input",function(){!function(e,t){t.validity.valid?function(e,t){var n=e.querySelector(".".concat(t.id,"-error"));t.classList.remove("popup__input_type_error"),n.classList.remove("popup__input-error_active"),n.textContent=""}(e,t):function(e,t,n){var o=e.querySelector(".".concat(t.id,"-error"));t.classList.add("popup__input_type_error"),o.classList.add("popup__input-error_active"),o.textContent=n}(e,t,t.validationMessage)}(e,o),a(n,t)})})}(e)})}(h)})();